---
title: "projectã«nuxt appã‚’è¿½åŠ "
layout: posts.liquid
is_draft: false
published_date: 2019-02-20 21:07:00 +0900
categories: ["nuxt"]
tags: []
---

## æ¦‚è¦
ä»Šå›Railsã§apiã‚µãƒ¼ãƒãƒ¼ã‚’ã‚„ã‚ŠãŸã„ã¨ã„ã†ç†ç”±ã§ã€å®Œå…¨ã«ãƒ•ãƒ­ãƒ³ãƒˆã¨apiã‚’åˆ†ã‘ã‚‹ã£ã¦ã„ã†ã“ã¨ã‚’ã‚„ã‚ŠãŸããƒ•ãƒ­ãƒ³ãƒˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã©ã†ã—ã‚ˆã†ã‹è¿·ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€NuxtãŒã©ã†ã‚‚è‰¯ã•ãã†ã¨ã„ã†ã“ã¨ã§è©¦ã—ã¦ã¿ãŸã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    $ yarn create nuxt-app frontend

yarn create v1.13.0

[1/4] ğŸ” Resolving packages...

[2/4] ğŸšš Fetching packages...

[3/4] ğŸ”— Linking dependencies...

[4/4] ğŸ”¨ Building fresh packages...

success Installed "create-nuxt-app@2.4.3" with binaries:

- create-nuxt-app

[#####################################################################] 369/369\> Generating Nuxt.js project in /Users/ryo/works/ANNP/25pm/frontend

? Project name frontend

? Project description frontend for 25pm.

? Use a custom server framework none

? Choose features to install Axios

? Use a custom UI framework none

? Use a custom test framework ava

? Choose rendering mode Single Page App

? Author name Katsumata Ryo

? Choose a package manager yarn

To get started:

cd frontend

yarn run dev

To build & start for production:

cd frontend

yarn run build

yarn start

To test:

cd frontend

yarn run test

âœ¨ Done in 743.52s

å…¬å¼ã®æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨è‹¥å¹²é•ã£ãŸã‘ã‚Œã©ã€é›°å›²æ°—ã§ã‚„ã£ãŸã€‚

    $ yarn run dev

yarn run v1.13.0

$ nuxt

â„¹ Preparing project for development 20:57:27

â„¹ Initial build may take a while 20:57:27

âœ” Builder initialized 20:57:27

âœ” Nuxt files generated 20:57:27

âœ” Client

Compiled successfully in 5.01s

â„¹ Waiting for file changes 20:57:34

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®

â”‚ â”‚

â”‚ Nuxt.js v2.4.3 â”‚

â”‚ Running in development mode (spa) â”‚

â”‚ Memory usage: 165 MB (RSS: 233 MB) â”‚

â”‚ â”‚

â”‚ Listening on: http://localhost:3000 â”‚

â”‚ â”‚

â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

`http://localhost:3000` ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒç«‹ã¡ä¸ŠãŒã‚Šã¾ã™ã€‚Railsã¨ä¸€ç·’ã‹ãƒ¼ã¨è‹¥å¹²æ‚©ã¾ã—ã’ã€‚

![](/public/images/2019/02/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2019-02-20-20.58.12-1024x582.png)
è¦‹ã‚ŒãŸã€‚

ç¶šãæ›¸ã„ã¦è¡Œãã¾ã™ãŒã€ä¸€æ—¦ã“ã“ã¾ã§ã§å…¬é–‹ã€‚

## è©¦ã—ã«1ãƒšãƒ¼ã‚¸ä½œã£ã¦ã¿ã‚‹
ã‚‚ã¨ã‚‚ã¨Vueã§ã¤ãã£ã¦ãŸä¸€æšã®ãƒšãƒ¼ã‚¸ã‚’ç°¡å˜ã«ä½œã£ã¦ã¿ã‚‹(çµæœã‚ã¡ã‚ƒãã¡ã‚ƒãƒãƒã£ãŸ)ã€‚ãã®ãƒšãƒ¼ã‚¸ã¯èƒŒæ™¯ã«ç”»åƒãŒã‚ã£ã¦ä¸€ç§’ã”ã¨ã«æ™‚åˆ»ãŒæ›´æ–°ã•ã‚Œã‚‹ãƒšãƒ¼ã‚¸ã§ã™ã€‚æ™‚åˆ»è¡¨ç¤ºã®ã¨ã“ã‚ã ã‘è¨˜éŒ²ä»£ã‚ã‚Šã«ãƒ¡ãƒ¢ã™ã‚‹

## moment.jsã‚’ä½¿ã†
æœ¬å½“ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†ã‘ãªã‘ã‚Œã°ã„ã‘ãªã„ã®ã ã‚ã†ã‘ã©ã€ä¸€ä½“pages/index.vue ã«ã¹ãŸæ›¸ãã™ã‚‹ã€‚ä»¥ä¸‹ã¯æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ã§ã™ã€‚æœ€åˆVueã®ã‚ˆã†ã« `data`çš„ãªè»½ã„æ„Ÿã˜ã§ã‚„ã‚ã†ã¨ã—ãŸã‘ã‚Œã©å…¨ç„¶ã†ã¾ãè¡Œã‹ãšã€æœ€çµ‚çš„ã«ã¯ä½¿ã†ã¤ã‚‚ã‚Šã®ãªã‹ã£ãŸvuexã‚’ä½¿ã£ãŸ(ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã‚„ã‚ŠãŸã‹ã£ãŸãŒã€æœ€çµ‚çš„ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¢ãƒ¼ãƒ‰ã§)

ã¾ãš moment.jsã‚’nuxtã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã—ãŸã€‚

`$ yarn add moment @nuxtjs/moment`

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®ã‚ã¨ã« config ã«è¿½åŠ ã€‚ä»¥ä¸‹ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

    // nuxt.config.js

{

modules: [

['@nuxtjs/moment', ['ja']]

]
}

    // pages/index.vue

\<template\>

\<div class="window" id="app"\>

\<div class="time" v-cloak\>`{\{\$store.state.time\}\}\</div\>

\</div\>

\</template\>

\<script\>

import moment from 'moment';

export default {

asyncData(context) {

window.setInterval(function() {

var time = moment().format('HH:mm:ss');

context.store.commit('reload', time)

}, 1000)

}

}

\</script\>

\<style\>

body {

margin: 0;

padding: 0;

width: 100vw;

height: 100vh;

overflow-x: hidden;

font-family: "Noto Sans JP";

}

.window {

margin: 0;

padding: 0;

width: 100vw;

height: 100vh;

background-color: #000;

background-size: cover;

color: #fff;

background-position: center;

background-attachment: fixed;

background-image: url("/images/bg.jpg");

}

.time {

margin: 0 0 40px 0;

font-size: 180%;

text-align: center;

padding-top: 40vh;

font-family: 'Cutive Mono';

}

.entrance {

text-align: center;

}

.entrance .button {

display: inline-block;

vertical-align: middle;

padding-top: 7px;

width: 150px;

height: 30px;

background-color: #fff;

color: #333;

font-size: 90%;

font-weight: bold;

}

\</style\>

    // store/index.js

export const state = () =\> ({

time: ''

})

export const mutations = {

reload(state, time) {

state.time = time

}

}

ã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹ã¨ã“ã‚Œã ã‘ãªã‚“ã ã‘ã©ã€nuxt.js ãƒ“ã‚®ãƒŠãƒ¼ã‚ºã‚¬ã‚¤ãƒ‰ ã‚’ãŒãƒ¼ã£ã¨çœºã‚ã¦è©²å½“ãƒ’ãƒ³ãƒˆãŒãªã„ã‹è¦‹ãŸã‚Šã€‚ãã—ãŸã‚‰VueãŒå…¨ç„¶ã‚ã‹ã£ã¦ãªã„ã£ã¦ã“ã¨ã§ åŸºç¤ã‹ã‚‰ã‚ã‹ã‚‹vue.js ã‚’ã‚¬ãƒ¼ãƒƒã¨èª­ã‚“ã§ã€ãã—ãŸã‚‰ãªã‚“ã¨ã‹ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ(æœ¬ã®å†…å®¹ã¯ä½¿ã£ã¦ãªã„ã®ã ã‘ã©)ã€‚

ã“ã†ã„ã†ä»Šã¾ã§è§¦ã£ãŸã“ã¨ã®ãªã„æŠ€è¡“ã«è§¦ã‚Œã‚‹ã®æœ¬å½“ã«å­¦ç¿’ãŒä¸‹æ‰‹ã§åœ§å€’çš„ã«ãƒãƒã‚‹ã—æ™‚é–“ã‹ã‹ã£ã¦ã‚»ãƒ³ã‚¹ãªã„ã€‚

ç¶šãã€‚


