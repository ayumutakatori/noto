<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes">
<title>clasp äº‹å§‹ã‚</title>
<link rel="stylesheet" href="/public/css/base.css">
    </head>
    <body>
        <h1><a href="/">PAPYRUS</a></h1>

        <div class="content">
            <h2 class="title">clasp äº‹å§‹ã‚</h2>
            <div class="description">
                ã€€Dateï¼š2021-01-11 12:01:51 +0900<br />
                ã€€Categoriesï¼š TECHNOLOGY <br />
                
            </div>
            <h2>claspã¨ã¯</h2>
<p>Google App Scriptã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã§ä¾¿åˆ©ã«ä½¿ãˆã‚‹ã‚ˆã†ã«Googleã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ„ãƒ¼ãƒ«ã€‚</p>
<h2>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">npm install -g @google/clasp
</span></pre>
<p><a href="https://script.google.com/home/usersettings">https://script.google.com/home/usersettings</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒã§ãã‚‹ã®ã§æœ‰åŠ¹ã«ã™ã‚‹ã€‚</p>
<img class="in_article" src="/public/images/2021/01/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-11-11.22.32-1024x202.png">
è‡ªåˆ†ã®ç’°å¢ƒã ã¨claspã®ãƒ‘ã‚¹ãŒé€šã£ã¦ãªã `command not found` ã«ãªã£ãŸã€‚nodenvã§ã„ã‚Œã¦ã„ã¦ `export PATH="~/.nodenv/shims:$PATH"` ã‚’ `.bashrc` ã«è¿½åŠ ã—ãŸã€‚
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ clasp --version
</span></pre>
<p>2.3.0</p>
<p>ç„¡äº‹ãƒ‘ã‚¹ãŒé€šã£ãŸã€‚</p>
<h2>ãƒ­ã‚°ã‚¤ãƒ³</h2>
<p>ãƒ­ã‚°ã‚¤ãƒ³ã®ç¢ºèªã€‚ã—ã¦ãªã•ãã†ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ clasp login --status
</span></pre>
<p>You are not logged in.</p>
<p>$ clasp login</p>
<p>Logging in globally...</p>
<p>(node:20018) ExperimentalWarning: The fs.promises API is experimental</p>
<p>ğŸ”‘ Authorize clasp by visiting this url:</p>
<p>Authorization successful.</p>
<p>Default credentials saved to: ~/.clasprc.json</p>
<p>ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤ã¨ç”»é¢é·ç§»ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®é€£æºãŒã§ãã‚‹ã€‚</p>
<img class="in_article" src="/public/images/2021/01/2021-01-11-11.52.50.png">
ç„¡äº‹ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†ã€‚éšåˆ† ã‚·ãƒ³ãƒ—ãƒ«ãªãƒšãƒ¼ã‚¸ã€‚
<h2>typescriptã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«</h2>
<p>typescriptã‚’ä½¿ã„ãŸã„ã®ãŒãƒ¡ã‚¤ãƒ³ã®ç›®çš„ãªã®ã§å‚è€ƒã«ã—ã¦ã„ã‚‹blogã‚’å‚è€ƒã«ç’°å¢ƒã‚’æº–å‚™ã—ã¦ã¿ã‚‹ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ mkdir hello-world
</span></pre>
<p>$ cd hello-world/</p>
<p>$ npm i -S @types/google-apps-script</p>
<p>$ tree</p>
<p>.</p>
<p>â”œâ”€â”€ node_modules</p>
<p>â”‚Â Â  â””â”€â”€ @types</p>
<p>â”‚Â Â  â””â”€â”€ google-apps-script</p>
<p>â”‚Â Â  â”œâ”€â”€ LICENSE</p>
<p>â”‚Â Â  â”œâ”€â”€ README.md</p>
<p>â”‚Â Â  â”œâ”€â”€ apis</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ adsense_v1_4.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ analytics_v3.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ analyticsreporting_v4.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ appsactivity_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ bigquery_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ calendar_v3.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ classroom_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ content_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dfareporting_v3_3.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ directory_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ docs_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ drive_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ driveactivity_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ gmail_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ groupsmigration_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ groupssettings_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ licensing_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mirror_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ peopleapi_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ reports_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ reseller_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ sheets_v4.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ slides_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tagmanager_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tasks_v1.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ youtube_v3.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ youtubeanalytics_v2.d.ts</p>
<p>â”‚Â Â  â”‚Â Â  â””â”€â”€ youtubepartner_v1.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script-events.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.base.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.cache.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.calendar.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.card-service.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.charts.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.conference-data.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.contacts.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.content.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.data-studio.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.document.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.drive.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.forms.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.gmail.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.groups.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.html.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.jdbc.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.language.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.lock.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.mail.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.maps.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.optimization.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.properties.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.script.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.sites.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.slides.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.spreadsheet.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.types.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.url-fetch.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.utilities.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ google-apps-script.xml-service.d.ts</p>
<p>â”‚Â Â  â”œâ”€â”€ index.d.ts</p>
<p>â”‚Â Â  â””â”€â”€ package.json</p>
<p>â””â”€â”€ package-lock.json</p>
<p>4 directories, 64 files</p>
<p>$ touch tsconfig.json</p>
<p>$ vim tsconfig.json</p>
<p>$ cat tsconfig.json</p>
<p>{</p>
<p>&quot;compilerOptions&quot;: {</p>
<p>&quot;lib&quot;: [&quot;es2019&quot;],</p>
<p>&quot;experimentalDecorators&quot;: true</p>
<p>}</p>
<p>}</p>
<h2>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ</h2>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ clasp create --title &quot;Hello World&quot; --type standalone
</span></pre>
<p>(node:20839) ExperimentalWarning: The fs.promises API is experimental</p>
<p>Created new standalone script: https://script.google.com/d/1QoTkRYwxa_vHJEOdVZk2rKvI8jZ3c2JdahkGcrF_RAgX3wpmN8cpAzYe/edit</p>
<p>Warning: files in subfolder are not accounted for unless you set a '.claspignore' file.</p>
<p>Cloned 1 file.</p>
<p>â””â”€ appsscript.json</p>
<p>ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’ Asia/Tokyoã«å¤‰æ›´ã™ã‚‹</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ cat appsscript.json
</span></pre>
<p>{</p>
<p>&quot;timeZone&quot;: &quot;America/New_York&quot;,</p>
<p>&quot;dependencies&quot;: {</p>
<p>},</p>
<p>&quot;exceptionLogging&quot;: &quot;STACKDRIVER&quot;,</p>
<p>&quot;runtimeVersion&quot;: &quot;V8&quot;</p>
<h2>codeã‚’æ›¸ã„ã¦ã„ã</h2>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">const greeter = (person: string) =&gt; {
</span></pre>
<p>return <code>Hello, ${person}!</code>;</p>
<p>}</p>
<p>function testGreeter() {</p>
<p>const user = 'Ken';</p>
<p>Logger.log(greeter(user));</p>
<p>}</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ clasp push
</span></pre>
<p>(node:21224) ExperimentalWarning: The fs.promises API is experimental</p>
<p>? Manifest file has been updated. Do you want to push and overwrite? Yes</p>
<p>â””â”€ appsscript.json</p>
<p>â””â”€ hello.ts</p>
<p>Pushed 2 files.</p>
<p>$ clasp open</p>
<p>(node:21322) ExperimentalWarning: The fs.promises API is experimental</p>
<p>Opening script: https://script.google.com/d/xxxxxx/edit</p>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ãŒãŸã¡ã‚ãŒã‚Šã¾ã™</p>
<img class="in_article" src="/public/images/2021/01/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-11-15.36.52-1024x469.png">
testGreeter ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹
<img class="in_article" src="/public/images/2021/01/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-11-15.38.13-1024x370.png">
ã¡ã‚ƒã‚“ã¨ã§ã¦ãŸï¼
<img class="in_article" src="/public/images/2021/01/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-11-15.39.07-1024x718.png">
ã“ã‚Œã§ãªã‚“ã¨ãªãæ‰‹é †ã¯ã‚ã‹ã£ãŸã€‚æ¬¡ã‹ã‚‰typescriptã®å­¦ç¿’ã‚’ã‚„ã£ã¦ãã€‚
<hr />
<p>å‚è€ƒ</p>
<p>ãƒ»<a href="https://panda-program.com/posts/clasp-typescript">https://panda-program.com/posts/clasp-typescript</a> ã»ã¨ã‚“ã©ã“ã®é€šã‚Šã«ä½œæ¥­ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>

        </div>
        <div class="footer">
            <a href="/">TOP</a>
        </div>
    </body>
</html>
