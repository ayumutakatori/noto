<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes">
<title>Rustã§Exifã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚“ã§è¦‹ã‚‹</title>
<link rel="stylesheet" href="/public/css/base.css">
</head>
<body>

<h1><a href="/">PAPYRUS</a></h1>

<div class="content">
    <h2 class="title">Rustã§Exifã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚“ã§è¦‹ã‚‹</h2>
    <div class="description">
        ã€€Dateï¼š2018-12-23 03:40:47 +0900<br />
        ã€€Categoriesï¼š Programming <br />
        
    </div>
    <h3>æ¦‚è¦</h3>
<p>Rustã§Exifã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚“ã§è¦‹ã‚‹ã€‚RustãŒå…¨ç„¶ã‹ã‘ãªã„ã®ã§ã€ã¨ã‚Šã‚ãˆãšãŒã‚€ã—ã‚ƒã‚‰ã«ã‚„ã£ã¦è¦‹ã‚‹ã€‚ã§ã™ã€‚ä½œæ¥­ãƒ¡ãƒ¢ã€‚</p>
<h3>æº–å‚™</h3>
<p>Exifã‚’èª­ã‚€ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¢ã—ãŸã¨ã“ã‚ä»¥ä¸‹ã®ã‚‚ã®ãŒæ¯”è¼ƒçš„å¤šããƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ãã†ã€‚</p>
<p>[embed]https://github.com/felixc/rexiv2[/embed]</p>
<p>ã“ã®ãƒšãƒ¼ã‚¸ã«å¾“ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ãŸãŒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã‚“ã§ã„ãªã„ã“ã¨ã‚’æ€ã„å‡ºã—ãŸã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;"># console
</span><span style="color:#c0c5ce;">$ cargo init
</span></pre>
<p>Cargo.tomlã¨ã„ã†ã‚‚ã®ãŒã§ãã‚‹ã®ã§ã€dependenciedã«ã“ã®Crateã‚’è¨˜è¼‰ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">[package]
</span><span style="color:#c0c5ce;">name = &quot;exif&quot;
</span><span style="color:#c0c5ce;">version = &quot;0.1.0&quot;
</span><span style="color:#c0c5ce;">authors = [&quot;Katsumata Ryo &lt;katsumata@stores.jp&gt;&quot;]
</span><span style="color:#c0c5ce;">edition = &quot;2018&quot;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">[dependencies]
</span><span style="color:#c0c5ce;">rexiv2 = &quot;0.7.0&quot; // &lt;- ã“ã‚Œ
</span></pre>
<p>buildã—ã¦ã¿ã‚‹</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ cargo run Updating[crates.io](http://crates.io)index Downloaded rexiv2 v0.7.0
</span><span style="color:#c0c5ce;">Downloaded gexiv2-sys v1.0.0
</span><span style="color:#c0c5ce;">Downloaded num-rational v0.2.1
</span><span style="color:#c0c5ce;">Downloaded libc v0.2.45
</span><span style="color:#c0c5ce;">Downloaded pkg-config v0.3.14
</span><span style="color:#c0c5ce;">Downloaded num-traits v0.2.6
</span><span style="color:#c0c5ce;">Downloaded num-integer v0.1.39
</span><span style="color:#c0c5ce;">Compiling num-traits v0.2.6
</span><span style="color:#c0c5ce;">Compiling libc v0.2.45
</span><span style="color:#c0c5ce;">Compiling num-integer v0.1.39
</span><span style="color:#c0c5ce;">Compiling pkg-config v0.3.14
</span><span style="color:#c0c5ce;">Compiling num-rational v0.2.1
</span><span style="color:#c0c5ce;">Compiling gexiv2-sys v1.0.0
</span><span style="color:#c0c5ce;">error: failed to run custom build command forgexiv2-sys v1.0.0
</span><span style="color:#c0c5ce;">process didn&#39;t exit successfully:/Users/ryo/work/ryo/study_rust/exif/target/debug/build/gexiv2-sys-806d287d621f3889/build-script-build(exit code: 101) --- stdout
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">The gexiv2 library was not found by pkg-config on your system.Consult the README.md file for suggestions on how to acquire it.--- stderrthread &#39;main&#39; panicked at &#39;`&quot;pkg-config&quot; &quot;--libs&quot; &quot;--cflags&quot; &quot;gexiv2&quot;` did not exit successfully: exit code: 1--- stderrPackage gexiv2 was not found in the pkg-config search path.Perhaps you should add the directory containing `gexiv2.pc&#39;to the PKG_CONFIG_PATH environment variableNo package &#39;gexiv2&#39; found&#39;, /Users/ryo/.cargo/registry/src/github.com-1ecc6299db9ec823/gexiv2-sys-1.0.0/build.rs:28:13note: Run with `RUST_BACKTRACE=1` for a backtrace.warning: build failed, waiting for other jobs to finish...error: build failed
</span></pre>
<p>ã©ã†ã‚„ã‚‰ <code>gexiv2</code> ãŒãªã•ãã†ã€‚ã“ã‚Œã¯Rustã®ã‚‚ã®ã˜ã‚ƒãªãã¦ãã‚‚ãã‚‚åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã£ã½ã‹ã£ãŸã®ã§homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããã†ã ã£ãŸã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">brew install gexiv2==&gt; Installing dependencies for gexiv2: exiv2, pcre and glib==&gt; Installing gexiv2 dependency: exiv2==&gt; Downloading &lt;https://homebrew.bintray.com/bottles/exiv2-0.26.mojave.bottle.1&gt;.######################################################################## 100.0%==&gt; Pouring exiv2-0.26.mojave.bottle.1.tar.gzğŸº /usr/local/Cellar/exiv2/0.26: 55 files, 7.6MB==&gt; Installing gexiv2 dependency: pcre==&gt; Downloading &lt;https://homebrew.bintray.com/bottles/pcre-8.42.mojave.bottle.tar&gt;######################################################################## 100.0%==&gt; Pouring pcre-8.42.mojave.bottle.tar.gzğŸº /usr/local/Cellar/pcre/8.42: 204 files, 5.5MB==&gt; Installing gexiv2 dependency: glib==&gt; Downloading &lt;https://homebrew.bintray.com/bottles/glib-2.58.2.mojave.bottle.t&gt;######################################################################## 100.0%==&gt; Pouring glib-2.58.2.mojave.bottle.tar.gzğŸº /usr/local/Cellar/glib/2.58.2: 435 files, 18.5MB==&gt; Installing gexiv2==&gt; Downloading &lt;https://homebrew.bintray.com/bottles/gexiv2-0.10.9.mojave.bottle&gt;######################################################################## 100.0%==&gt; Pouring gexiv2-0.10.9.mojave.bottle.tar.gzğŸº /usr/local/Cellar/gexiv2/0.10.9: 22 files, 496KB
</span></pre>
<p>ã‚ˆã£ã—ã‚ƒã€‚</p>
<h3>ã‚³ãƒ¼ãƒ‰</h3>
<p>ã¨ã‚Šã‚ãˆãšãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§ã¿ã¦ã€æµå„€ã«å¤–ã‚Œã¦ã„ã¦ã‚‚ã¨ã‚Šã‚ãˆãšèª­ã¿è¾¼ã‚ã‚‹ã‚‚ã®ã‚’ä½œã‚‹ã“ã¨ã‚’é ‘å¼µã£ãŸã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">use rexiv2;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">fn main() {
</span><span style="color:#c0c5ce;">let file = &quot;/Users/ryo/Downloads/Photos/DSC04117.jpg&quot;;
</span><span style="color:#c0c5ce;">let meta = rexiv2::Metadata::new_from_path(&amp;file).unwrap();
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">println!(&quot;{:?}&quot;, meta.get_pixel_width());
</span><span style="color:#c0c5ce;">println!(&quot;{:?}&quot;, meta.get_pixel_height());
</span><span style="color:#c0c5ce;">println!(&quot;F: {:?}&quot;, meta.get_fnumber());
</span><span style="color:#c0c5ce;">println!(&quot;ISO: {:?}&quot;, meta.get_iso_speed());
</span><span style="color:#c0c5ce;">println!(&quot;{:?}&quot;, meta.get_exposure_time());
</span><span style="color:#c0c5ce;">}
</span></pre>
<h3>å®Ÿè¡Œ</h3>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ cargo run
</span><span style="color:#c0c5ce;">Compiling exif v0.1.0 (/Users/ryo/work/ryo/study_rust/exif)
</span><span style="color:#c0c5ce;">Finished dev [unoptimized + debuginfo] target(s) in 0.72s
</span><span style="color:#c0c5ce;">Running `target/debug/exif`
</span><span style="color:#c0c5ce;">6000
</span><span style="color:#c0c5ce;">4000
</span><span style="color:#c0c5ce;">F: Some(1.8)
</span><span style="color:#c0c5ce;">ISO: Some(320)
</span><span style="color:#c0c5ce;">Some(Ratio { numer: 1, denom: 200 })
</span></pre>
<p>ãªã‚“ã‹å¤‰ã ã‘ã©ã€ãã‚Œã£ã½ã„ã®ãŒã¨ã‚Œã¦ã„ã‚‹æ°—ãŒã™ã‚‹ï¼ã“ã®è¨˜äº‹ã§ã¯ä¸€æ—¦ã“ã“ã¾ã§ã€‚</p>
<h3>ä»Šå¾Œ</h3>
<p>ä»¥ä¸‹ã®äº‹ãŒã§ãã‚‹ã¨è‡ªåˆ†ãŒã‚„ã‚ŠãŸã„ã“ã¨ã«ã¨ã‚Šã‚ãˆãšè¿½ã„ã¤ãã®ã§</p>
<ul>
<li>ç”»åƒpathç›´æ›¸ãã—ãŸã®ã‚’å¼•æ•°ã§å–å¾—ã™ã‚‹</li>
<li>someã¨ã‹ã®ã¨ã“ã‚ã‚’stringã§è¡¨ç¤ºã™ã‚‹</li>
<li>RatioãŒRatioã§è¡¨ç¤ºã§ãã¦ãªã„ã®ã§stringã§è¡¨ç¤ºã™ã‚‹</li>
<li>ãƒœãƒ‡ã‚£åã¨ãƒ¬ãƒ³ã‚ºåã‚’å–å¾—ã™ã‚‹
ã“ã®ã‚ãŸã‚Šã‚’ã‚„ã£ã¦ã„ãã¾ã™ã€‚</li>
</ul>

</div>
<div class="footer">
    <a href="/">TOP</a>
</div>
</body>
</html>
