<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=yes">
<title>NOTO - CentOSにownCloudのcommunity版を入れてみる</title>
<link rel="stylesheet" href="/public/css/base.css">

<meta property="og:url" content="posts/past/83-2013-10-07.html" />
<meta property="og:type" content="article" />
<meta property="og:title" content="NOTO - CentOSにownCloudのcommunity版を入れてみる" />
<meta property="og:description" content="<p><a href="http://owncloud.org/install">このページ</a>にinstallは書いてあったので、其のとおりに。</p>
<pre style="..." />
<meta property="og:site_name" content="NOTO" />
<meta property="og:image" content="https://noto.katsumataryo.com/public/images/background.jpg" />
    </head>
    <body>
        <h1><a href="/">NOTO</a></h1>

        <div class="content">
            <h2 class="title">CentOSにownCloudのcommunity版を入れてみる</h2>
            <div class="description">
                　Date：2013-10-07 01:00:46 +0900<br />
                　Categories： TECHNOLOGY <br />
            </div>
            <p><a href="http://owncloud.org/install">このページ</a>にinstallは書いてあったので、其のとおりに。</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">$ cd /etc/yum.repos.d/
</span><span style="color:#c0c5ce;">$ sudo wget[http://download.opensuse.org/repositories/isv:ownCloud:community/CentOS\_CentOS-6/isv:ownCloud:community.repo](http://download.opensuse.org/repositories/isv:ownCloud:community/CentOS_CentOS-6/isv:ownCloud:community.repo)
</span><span style="color:#c0c5ce;">$ sudo yum install owncloud
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Dependencies Resolved
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">================================================================================
</span><span style="color:#c0c5ce;">Package Arch Version Repository Size
</span><span style="color:#c0c5ce;">================================================================================
</span><span style="color:#c0c5ce;">Installing:
</span><span style="color:#c0c5ce;">owncloud noarch 5.0.12-12.1 isv_ownCloud_community 15 M
</span><span style="color:#c0c5ce;">Installing for dependencies:
</span><span style="color:#c0c5ce;">libxslt x86_64 1.1.26-2.el6_3.1 base 452 k
</span><span style="color:#c0c5ce;">owncloud-3rdparty noarch 5.0.12-12.1 isv_ownCloud_community 286 k
</span><span style="color:#c0c5ce;">php-pear noarch 1:1.9.4-4.el6 base 393 k
</span><span style="color:#c0c5ce;">php-pear-MDB2 noarch 2.5.0-0.9.b5.el6 epel 127 k
</span><span style="color:#c0c5ce;">php-pear-MDB2-Driver-mysqli
</span><span style="color:#c0c5ce;">noarch 1.5.0-0.8.b4.el6 epel 43 k
</span><span style="color:#c0c5ce;">php-pear-Net-Curl noarch 1.2.5-4.el6 epel 13 k
</span><span style="color:#c0c5ce;">php-process x86_64 5.3.3-23.el6_4 updates 39 k
</span><span style="color:#c0c5ce;">php-xml x86_64 5.3.3-23.el6_4 updates 103 k
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Transaction Summary
</span><span style="color:#c0c5ce;">================================================================================
</span><span style="color:#c0c5ce;">Install 9 Package(s)
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Total download size: 16 M
</span><span style="color:#c0c5ce;">Installed size: 54 M
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Total download size: 16 M
</span><span style="color:#c0c5ce;">Installed size: 54 M
</span><span style="color:#c0c5ce;">Is this ok [y/N]: y
</span><span style="color:#c0c5ce;">Downloading Packages:
</span><span style="color:#c0c5ce;">(1/9): libxslt-1.1.26-2.el6_3.1.x86_64.rpm | 452 kB 00:00
</span><span style="color:#c0c5ce;">(2/9): owncloud-5.0.12-12.1.noarch.rpm | 15 MB 06:51
</span><span style="color:#c0c5ce;">(3/9): owncloud-3rdparty-5.0.12-12.1.noarch.rpm | 286 kB 00:05
</span><span style="color:#c0c5ce;">(4/9): php-pear-1.9.4-4.el6.noarch.rpm | 393 kB 00:00
</span><span style="color:#c0c5ce;">(5/9): php-pear-MDB2-2.5.0-0.9.b5.el6.noarch.rpm | 127 kB 00:00
</span><span style="color:#c0c5ce;">(6/9): php-pear-MDB2-Driver-mysqli-1.5.0-0.8.b4.el6.noar | 43 kB 00:00
</span><span style="color:#c0c5ce;">(7/9): php-pear-Net-Curl-1.2.5-4.el6.noarch.rpm | 13 kB 00:00
</span><span style="color:#c0c5ce;">(8/9): php-process-5.3.3-23.el6_4.x86_64.rpm | 39 kB 00:00
</span><span style="color:#c0c5ce;">(9/9): php-xml-5.3.3-23.el6_4.x86_64.rpm | 103 kB 00:00
</span><span style="color:#c0c5ce;">--------------------------------------------------------------------------------
</span><span style="color:#c0c5ce;">Total 39 kB/s | 16 MB 07:01
</span><span style="color:#c0c5ce;">warning: rpmts_HdrFromFdno: Header V3 DSA/SHA1 Signature, key ID ba684223: NOKEY
</span><span style="color:#c0c5ce;">Retrieving key from[http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS\_CentOS-6/repodata/repomd.xml.key](http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/repodata/repomd.xml.key)
</span><span style="color:#c0c5ce;">Importing GPG key 0xBA684223:
</span><span style="color:#c0c5ce;">Userid: &quot;isv:ownCloud OBS Project &quot;
</span><span style="color:#c0c5ce;">From :[http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS\_CentOS-6/repodata/repomd.xml.key](http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/repodata/repomd.xml.key)
</span><span style="color:#c0c5ce;">Is this ok [y/N]: y
</span><span style="color:#c0c5ce;">Running rpm_check_debug
</span><span style="color:#c0c5ce;">Running Transaction Test
</span><span style="color:#c0c5ce;">Transaction Test Succeeded
</span><span style="color:#c0c5ce;">Running Transaction
</span><span style="color:#c0c5ce;">Installing : 1:php-pear-1.9.4-4.el6.noarch 1/9
</span><span style="color:#c0c5ce;">Installing : php-pear-Net-Curl-1.2.5-4.el6.noarch 2/9
</span><span style="color:#c0c5ce;">Installing : php-pear-MDB2-2.5.0-0.9.b5.el6.noarch 3/9
</span><span style="color:#c0c5ce;">Installing : php-pear-MDB2-Driver-mysqli-1.5.0-0.8.b4.el6.noarch 4/9
</span><span style="color:#c0c5ce;">Installing : php-process-5.3.3-23.el6_4.x86_64 5/9
</span><span style="color:#c0c5ce;">Installing : libxslt-1.1.26-2.el6_3.1.x86_64 6/9
</span><span style="color:#c0c5ce;">Installing : php-xml-5.3.3-23.el6_4.x86_64 7/9
</span><span style="color:#c0c5ce;">Installing : owncloud-3rdparty-5.0.12-12.1.noarch 8/9
</span><span style="color:#c0c5ce;">Installing : owncloud-5.0.12-12.1.noarch 9/9
</span><span style="color:#c0c5ce;">Non-fatal POSTIN scriptlet failure in rpm package owncloud-5.0.12-12.1.noarch
</span><span style="color:#c0c5ce;">warning: %post(owncloud-5.0.12-12.1.noarch) scriptlet failed, exit status 1
</span><span style="color:#c0c5ce;">Verifying : 1:php-pear-1.9.4-4.el6.noarch 1/9
</span><span style="color:#c0c5ce;">Verifying : php-xml-5.3.3-23.el6_4.x86_64 2/9
</span><span style="color:#c0c5ce;">Verifying : owncloud-5.0.12-12.1.noarch 3/9
</span><span style="color:#c0c5ce;">Verifying : php-pear-Net-Curl-1.2.5-4.el6.noarch 4/9
</span><span style="color:#c0c5ce;">Verifying : libxslt-1.1.26-2.el6_3.1.x86_64 5/9
</span><span style="color:#c0c5ce;">Verifying : php-pear-MDB2-2.5.0-0.9.b5.el6.noarch 6/9
</span><span style="color:#c0c5ce;">Verifying : php-process-5.3.3-23.el6_4.x86_64 7/9
</span><span style="color:#c0c5ce;">Verifying : php-pear-MDB2-Driver-mysqli-1.5.0-0.8.b4.el6.noarch 8/9
</span><span style="color:#c0c5ce;">Verifying : owncloud-3rdparty-5.0.12-12.1.noarch 9/9
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Installed:
</span><span style="color:#c0c5ce;">owncloud.noarch 0:5.0.12-12.1
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Dependency Installed:
</span><span style="color:#c0c5ce;">libxslt.x86_64 0:1.1.26-2.el6_3.1
</span><span style="color:#c0c5ce;">owncloud-3rdparty.noarch 0:5.0.12-12.1
</span><span style="color:#c0c5ce;">php-pear.noarch 1:1.9.4-4.el6
</span><span style="color:#c0c5ce;">php-pear-MDB2.noarch 0:2.5.0-0.9.b5.el6
</span><span style="color:#c0c5ce;">php-pear-MDB2-Driver-mysqli.noarch 0:1.5.0-0.8.b4.el6
</span><span style="color:#c0c5ce;">php-pear-Net-Curl.noarch 0:1.2.5-4.el6
</span><span style="color:#c0c5ce;">php-process.x86_64 0:5.3.3-23.el6_4
</span><span style="color:#c0c5ce;">php-xml.x86_64 0:5.3.3-23.el6_4
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">Complete!
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">なんかおわったっぽいです。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">私の環境だと /var/www/html/owncloud にそれっぽいファイルがあったので、apacheにここにネームヴァーチャルをお願いしますしてrestartしました。
</span><span style="color:#c0c5ce;">※ちなみに /etc/httpd/conf.d/owncloud.conf というやつもいました。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">#ネームバーチャル環境なので
</span><span style="color:#c0c5ce;">#ネームバーチャルしているapacheのconfに設定を追加。
</span><span style="color:#c0c5ce;">$ sudo vi /etc/httpd/conf.d/vhost.conf
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">ServerName owncloud.XXXXXXXXX.com
</span><span style="color:#c0c5ce;">DocumentRoot /var/www/html/owncloud
</span><span style="color:#c0c5ce;">AddType application/x-httpd-php .html #たぶんここはいらない。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">＃一応確認
</span><span style="color:#c0c5ce;">[ryo@jazz ~]$ sudo /etc/init.d/httpd configtest
</span><span style="color:#c0c5ce;">Syntax OK
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;"># 設定を読ますために再起動
</span><span style="color:#c0c5ce;">$ sudo /etc/init.d/httpd restart
</span><span style="color:#c0c5ce;">httpd を停止中: [OK]
</span><span style="color:#c0c5ce;">httpd を起動中: [OK]
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">で、owncloud.XXXXXXXXX.comにアクセスすると一応表示できた。
</span><span style="color:#c0c5ce;">しかしながらセキュリティの警告が
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">PHPのバージョンは、”NULLバイト攻撃（CVE-2006から7243）の脆弱性が存在します しっかりownCloud使用するPHPのインストールを更新してください。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">確認したらversionがphp5.3.3だった。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">一旦[違う記事](http://engine.workapart.org/cent-os/307.html)に譲る。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">versionがphp5.4.19に上がったところでもいちどowncloudｗｐインストールしなおした。
</span><span style="color:#c0c5ce;">すると警告も消えた。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">初期設定
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">キャプチャし忘れたんですが、管理者アカウントを設定するページが有りました。
</span><span style="color:#c0c5ce;">・ユーザ名
</span><span style="color:#c0c5ce;">・パスワード
</span><span style="color:#c0c5ce;">をにゅうりょくしました。其の下に「詳細設定」というボタンが合ったので押すと
</span><span style="color:#c0c5ce;">MySQLとSQLiteを選べる感じで。
</span><span style="color:#c0c5ce;">SQLiteは触ったことがないので、とりあえずDBを取り急ぎ作ってMySQLにしてみました。
</span><span style="color:#c0c5ce;">・データベースのユーザ名
</span><span style="color:#c0c5ce;">・データベースのパスワード
</span><span style="color:#c0c5ce;">・データベース名
</span><span style="color:#c0c5ce;">を入力しました。完了を押すとすぐにつかえるようになります。
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">ご丁寧に入り口しょっぱなでアプリあるよっていう報告が。
</span><span style="color:#c0c5ce;">今日はとりあえずここまでで寝ます。
</span></pre>
            <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false" data-text="CentOSにownCloudのcommunity版を入れてみる - NOTO (@katsumata_ryo)">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
        <div class="footer">
            <h2 class="subtitle">Categories</h2>

| <a href="/categories/TECHNOLOGY.html">TECHNOLOGY</a> | <a href="/categories/SOUNDTRACK.html">SOUNDTRACK</a> | <a href="/categories/PHOTOGRAPHY.html">PHOTOGRAPHY</a> | <a href="/categories/HIBI.html">HIBI</a> | <a href="/categories/WORK.html">WORK</a> | <a href="/categories/BOOK.html">BOOK</a> | <a href="/categories/CULTURE.html">CULTURE</a> | <a href="/categories/ETC.html">ETC</a> | 

<h2 class="subtitle">Past Articles</h2>
| <a href="/yearly/2022.html">2022</a> | <a href="/yearly/2021.html">2021</a> | <a href="/yearly/2020.html">2020</a> | <a href="/yearly/2019.html">2019</a> | <a href="/yearly/2018.html">2018</a> | <a href="/yearly/2017.html">2017</a> | <a href="/yearly/2016.html">2016</a> | <a href="/yearly/2015.html">2015</a> | <a href="/yearly/2014.html">2014</a> | <a href="/yearly/2013.html">2013</a> | 

<p><a href="/">TOP</a></p>
        </div>
    </body>
</html>
